(function(){angular.module("coffeeToGoApp",["ngRoute","ngSanitize"]);function e(e,o){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/about",{templateUrl:"common/views/genericText.view.html",controller:"aboutCtrl",controllerAs:"vm"}).when("/location/:locationId",{templateUrl:"details/details.view.html",controller:"detailsCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});o.html5Mode(true)}angular.module("coffeeToGoApp").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("coffeeToGoApp").controller("homeCtrl",e);e.$inject=["$scope","coffeeToGoData","geolocation"];function e(o,t,e){var i=this;i.pageHeader={title:"Coffee to Go",strapline:"Point whith cofee near you!"};i.sidebar={first:"Starcups is on Coffee To Go because it has accessible wifi and space to sit down with your laptop and get some work done.",second:"If you've been and you like it - or if you don't - please leave a review to help other people just like you."};i.message="Checking your location";i.getData=function(e){i.message="Serching for nearby places";t.locationsByCoords(e.coords.longitude,e.coords.latitude).then(function(e){i.message=e.data.length?"":"No locations found";i.data={locations:e.data}},function(e){i.message="Sorry something's gone wrong"})};i.showError=function(e){o.$apply(function(){i.message=e.message})};i.noGeo=function(){o.$apply(function(){i.message="Geolocation not supported by this browser"})};e.getPosition(i.getData,i.showError,i.noGeo)}})();(function(){angular.module("coffeeToGoApp").service("coffeeToGoData",e);e.$inject=["$http"];function e(t){locationsByCoords=function(e,o){return t.get("/api/locations?lng="+e+"&lat="+o+"&maxDistance=2000")};locationById=function(e){return t.get("/api/locations/"+e)};return{locationsByCoords:locationsByCoords,locationById:locationById}}})();(function(){angular.module("coffeeToGoApp").service("geolocation",e);function e(){getPosition=function(e,o,t){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(e,o)}else{t()}};return{getPosition:getPosition}}})();(function(){angular.module("coffeeToGoApp").filter("formatDistance",e);function e(){return function(e){if(e>1e3){e=""+(e/1e3).toFixed(1)+" km"}else{e=""+e.toFixed(0)+" m"}return e}}})();(function(){angular.module("coffeeToGoApp").directive("ratingStars",e);function e(){return{restrict:"EA",scope:{thisRating:"=rating"},templateUrl:"/common/directives/ratingStars/ratingStars.template.html"}}})();(function(){angular.module("coffeeToGoApp").directive("footerGeneric",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/footerGeneric.template.html"}}})();(function(){angular.module("coffeeToGoApp").directive("navigation",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}})();(function(){angular.module("coffeeToGoApp").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("coffeeToGoApp").controller("aboutCtrl",e);function e(){var e=this;e.title="About";e.text="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis repellat, incidunt earum cumque, dolores optio quo accusamus molestias vero reprehenderit nam maxime consequuntur. A perspiciatis minima neque obcaecati sit tempora. <br /> <br /> Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere voluptate facilis qui doloremque consequatur sint omnis tempore molestias deleniti corrupti placeat voluptatibus ab dolorum cum pariatur harum quidem laboriosam quibusdam, delectus debitis enim autem. Exercitationem officiis expedita, facilis nemo voluptatum, voluptate iusto omnis soluta, illo error delectus inventore consectetur harum earum dolores nam. Animi autem qui dolore ratione libero quaerat est tempora, ipsam a rerum labore ea alias quam, nam, maiores explicabo obcaecati in. Nobis aut, tempore sunt illum odio reprehenderit facere hic nam possimus culpa, dicta, ipsam ducimus dolor repudiandae fuga dolorum nihil velit mollitia perferendis aliquid aliquam est delectus. Nobis similique ducimus natus neque dicta repudiandae animi suscipit, aspernatur alias non nesciunt officia debitis eligendi atque qui veritatis dolorem cupiditate quas omnis accusantium nisi? Tempora enim aspernatur eveniet saepe impedit temporibus culpa delectus adipisci! Provident impedit modi obcaecati reiciendis nesciunt enim laudantium dolore dignissimos consectetur. Commodi recusandae vel ipsam iure inventore magni sapiente enim officia quod. Deleniti, quia ratione! Doloremque est nam cumque deserunt minus rem earum et. Atque cum reiciendis quaerat? Hic voluptas quo libero earum ab modi eos mollitia excepturi iure laborum. Aliquid nam blanditiis nulla suscipit ea dignissimos dolor rerum eveniet consectetur facere soluta repudiandae, eaque nemo at quibusdam ipsam provident hic sed rem sint doloremque culpa tempore. Ex sint molestiae, obcaecati sit placeat doloribus rem tempora voluptatum ipsam iste? Maxime quibusdam repellat dolores labore esse cum laboriosam in nisi voluptatem. Facere dicta, dolorum asperiores ratione rerum deleniti vero fugiat necessitatibus perferendis veritatis in! Deserunt, voluptatum a. Reiciendis aperiam sed harum ducimus odio eos quod, quisquam blanditiis nam animi, repellat maxime distinctio ad excepturi fuga ab omnis! Corrupti dignissimos iste nesciunt rerum dolor minus voluptatibus incidunt ex perspiciatis, expedita sed unde magnam veritatis, excepturi voluptates quod! Repellendus sint laborum eaque animi libero quas eligendi at?"}})();(function(){angular.module("coffeeToGoApp").controller("detailsCtrl",e);e.$inject=["$scope","$routeParams","coffeeToGoData"];function e(e,o,t){var i=this;t.locationById(o.locationId).then(function(e){i.title=e.data.name;i.location=e.data;i.sidebar={first:e.data.name+" is on Coffee To Go because it has accessible wifi and space to sit down with your laptop and get some work done.",second:"If you've been and you like it - or if you don't - please leave a review to help other people just like you."}},function(e){i.message="Sorry something's gone wrong"})}})();(function(){angular.module("coffeeToGoApp").directive("googleMap",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/googleMap/googleMap.template.html",link:function(e,o){var t="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8jAP1An3B9naEh175om0LINck1Sog31E";var i=document.createElement("script");i.setAttribute("src",t);i.setAttribute("type","text/javascript");document.getElementById("map-script").appendChild(i);console.log(e);console.log(o);function a(){new google.maps.Map(document.getElementById("map"),{center:{lat:e.location.coords[0],lng:e.location.coords[1]},zoom:13})}setTimeout(function(){a()},1e3)}}}})();